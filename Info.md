# Инструкция по работе с GIT

## Начало работы с репозиторием
> git init

Команда, создающая локальный репозиторий

Если вы до этого не вводили имя/почту, то их необходимо ввести:
> git config --global user.name Имя

> git config --global user.email some@mail.com

## Добавление изменений
Для того, чтобы начать отслеживать файл(-ы), нужна команда:
> git add file_name

Чтобы зафиксировать все отслеживаемые файлы, нужна команда:
> git commit - m "Message"

Однако для "ленивых" существует вариант объединения этих команд в одну строку:
> git commit -a -m "Message".

Этот вариант одновременно и добавляет файл в отслеживание, и затем создает коммит с тем сообщением, которое пользователь укажет в кавычках.

Данный вариант удобен тем, что нет нужды прописывать две команды, достаточно грамотно все прописать в одной команде.

## Отслеживаем состояние репозитория
> git status

Показывает состояние репозитория, то есть файлы, которые были добавлены в репозиторий или изменены. Также показывает, какие файлы готовы к коммиту.

> git log

Показывает историю коммитов

> git log --graph

Показывает историю коммитов и визуализирует ветки

> git diff

Показывает разницу между текущим состоянием файлов и тем, что отслеживается

## Переход между коммитами
Можно перейти к прошлому коммиту командой:

> git checkout commit_code

commit_code - код коммита, который можно вызвать командой:

> git log

Для того, чтобы вернуться к актульному коммиту нужно ввести:

> git checkout master

Примечательно, что перемещаться между разными ветками также необходимо при помощи команды:
> git checkout branch_name.

Может возникнуть ситуация (если при наличии нескольких веток мы вводим команду на перемещение не к ветке, а к номеру коммита), когда мы можем оказаться "вне ветки". В этом случае при выполнении команды:
> git branch

терминал не сможет указать (выделить звездочкой и зеленым цветом шрифта) ту ветку, в которой мы в данный момент находимся. 

Вместо этого терминал укажет на номер коммита, но ни одна из веток не будет помечена активной.

## Вставка фотографий в файл

Чтобы вставить фото  в файл, необходимо ввести команду:
> ! [text] (image_name)

При этом в квадратных скобках должен присутствовать текст-объяснение для случая, когда картинка не отобразилась, а в круглых скобках необходимо указывать имя картинки с расширением.

Пример картинки:
![Felix the CAT](felix.jpg)

## Ветки в git

Чтобы посмотреть все ветки, нужно ввести:
> git branch

Чтобы создать новую ветку с именем branch_name:
> git branch branch_name

Переход к ветке branch_name:
> git checkout branch_name

## Удаление веток
Для удаления ветки branch_name нужно ввести:
> git branch -d branch_name

она удалится, если нет никаких ошибок.

Если хотим удалить, несмотря на ошибки:
> git branch -D branch_name

Еще одной особенностью работы с удалением веток является то, что мы не можем удалить ветку, в которой находимся в данный момент. Например, если мы создали некую ветку branch_new и при помощи команды checkout переместились в нее из ветки master, то, введя команду:
> git branch -d branch_new

мы получим ошибку, и ветка branch_new не будет удалена. Даже, если мы используем команду:
> git branch -D branch_new

ветка все равно не будет удалена, а терминал выдаст ошибку.

Для удаления ветки branch_new нам необходимо переместиться в любую другую из имеющихся веток, и уже оттуда удалить ветку branch_new.

## Слияние веток и решение конфликтов

Чтобы слить ветку branch_name в текущую, нужно ввести:
> git merge branch_name


В случае возникновения конфликта при merge, необходимо выбрать, какой из вариантов нам нужен (или оставить оба), и при необходимости модифицировать их.

Сделать это можно либо вручную, при помощи мыши и клавиатуры, либо автоматически, воспользовавшись вариантами, которые предлагает VS Code. 

## Добавление ссылок в текст

Для добавления ссылки используем синтаксис:
[Описание ссылки] (http://example.com/ "Пример ссылки").  
В квадратных скобках указываем название самой ссылки, далее в круглых скобках приводим непосредственно URL-адрес страницы, на котроую делам ссылку, и через пробел можем (но не обязаны) дописать некую всплывающую подсказку, которая будет появляться при наведении курсора на ссылку.
## Работа с удаленными репозиториями

Первое, что рекомендуется сделать для обеспечения своей работы с удаленными репозиториями - это зарегистрироваться на сайте [GitHub.com](https://github.com/). Далее необходимо синхронизировать VS code со своим вновь созданным аккаунтом на GitHub. Сделать это можно средствами VS Code через пункт меню слева "Учетные записи".  

Для того, чтобы скопировать себе на локальный компьютер удаленный репозиторий, необходимо, получив на него ссылку, скопировать эту ссылку (на сайте [GitHub.com](https://github.com/)) либо при помощи HTTPS либо при помощи SSH. Вариант выбора копирования предоставляется на сайте. 
Далее, в терминале VS Code необходимо выполнить команду:
> git clone <скопированная ссылка url>

Это действие в выбранной ранее папке создаст новую папку с названием удаленного репозитория, куда и будут скопированы все файлы и коммиты.

Если по каким-то причинам нам необходимо еще раз скопировать этот же удаленный репозиторий, то можно сделать так:

> git clone <скопированная ссылка url> <Папка1>

где Папка1 - название новой папки, куда будет скопирован репозиторий. Это позволит получить две независимые папки на одном компьютере для одного и того же репозитория, что, в свою очередь, избавит нас от ошибок в работе.

Для того, чтобы перевести теперь терминал на работу в папке репозитория, необходимо ввести команду:
> cd <имя папки>

Либо это можно сделать, кликнув правой кнопкой мыши на папке репозитория в проводнике, и вырав пункт выпадающего меню "Открыть во встроенном терминале".

Правилом хорошего тона при работе с удаленными репозиториями на локальной машине является создание отдельной ветки для всех наших изменений и дополнений.

Работа также ведется с созданием всех необходимых коммитов.

Когда мы хотим всю нашу проделанную на локальной машине работу передать в удаленный репозиторий, из которого мы брали начальные файлы, то используем команду:
> git push  

Это обновит соответствующую ветку на удаленном репозитории всеми нашими новыми коммитами. Это актуально, если мы все-таки работали в ветке master. Если жы мы создали свою ветку, то можно выполнить команду:
> git push -u origin [наша_ветка]

Это создаст в удаленном репозитории отдельную ветку с нашими коммитами, соответствующую нашей локальной ветке, в которой мы и работали.

Перед тем, как отправлять наши коммиты в удаленный репозиторий, рекомендуется выполнить команду:
> git pull

Это позволит быть уверенным, что мы работаем с наиболее актуальной версией удаленного репозитория. Данная команда обновляет наш локальный репозиторий в соответствии с актуальным состоянием удаленного и очень полезна при совместной работе нескольких людей с удаленным репозиторием.
Важно понимать, что команда git pull по сути выполняет две команды - это синхронизация локального и удаленного репозитория, а также слияние (merge) веток удаленного репозитория с ветками локального. И если есть конфликт - VS Code это покажет, и предложит варианты решения конфликта.  
Разумеется, команду git pull нужно выполнять только после того, как все изменения закоммичены. Иначе имеем риск "затирания" наших незакоммиченных изменений во время выполнения merge.

## Работа в режиме Pull Request

Режим Pull Request используется, когда мы не имеем права ничего менять в удаленном репозитории. Автор данного репозитория не желает давать такие права сторонним лицам, однако мы можем предложить автору наши изменения (улучшения, дополнения).
Для того, чтобы у нас появилась возможность работать с удаленным репозиторием, необходимо (при наличии ссылки от автора репозитория) выполнить команду Fork на сайте [GitHub.com](https://github.com/), на странице автора удаленного репозитория. Данная команда создаст в нашем аккаунте полную копию удаленного репозитория автора.
Далее, уже имея на своем аккаунте копию удаленного репозитория, можно при помощи команды git clone (информация о которой приведена выше) переместить данные удаленного репозитория с нашего аккаунта на локальную машину для внесения изменений.
После создаем новую ветку, выполняем необходимые изменения, делаем коммиты, и командой git push отправляем все на свой удаленный репозиторий.

После того, как вся работа проведена, остается "предложить" наши правки автору удаленного репозитория, который мы скопировали себе при помощи Fork. Это делается также на сайте [GitHub.com](https://github.com/), при помощи команды Compare & pull request. Система предложит нам ввести название для наших правок и их краткое описание.

После выполнения данной команды автор удаленного репозитория получит от нас наши правки с описанием, и примет решение - учитывать их или отклонить.

## Справка
Для того, чтобы вызвать справку по какой-то команде, нужно дописать к ней тег --help
> git add --help

> git commit --help

> git checkout --help

> git branch -- help

> git merge -- help

Удачи!